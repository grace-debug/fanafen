<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FONAFEN - Accueil</title>
    <link rel="icon" href="logofonafen.png" type="image/png">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        body { font-family: 'Poppins', sans-serif; }
        :root {
            --fonafen-green: #008240;
            --fonafen-green-dark: #006b35;
            --fonafen-gold: #D4AF37;
        }
        .bg-fonafen-green { background-color: var(--fonafen-green); }
        .text-fonafen-green { color: var(--fonafen-green); }
        .hover\:bg-fonafen-green-dark:hover { background-color: var(--fonafen-green-dark); }
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94), transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            transition-delay: var(--delay, 0s);
        }
        .reveal.visible { opacity: 1; transform: translateY(0); }
        #preloader { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: #fff; z-index: 9999; display: flex; align-items: center; justify-content: center; transition: opacity 0.5s ease-out; }
        .spinner { width: 56px; height: 56px; border-radius: 50%; border: 6px solid #f3f3f3; border-top: 6px solid var(--fonafen-green); animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        @keyframes fadeInDown { from { opacity: 0; transform: translate3d(0, -20px, 0); } to { opacity: 1; transform: translate3d(0, 0, 0); } }
        .animate-fade-in-down { opacity: 0; animation: fadeInDown 0.7s cubic-bezier(0.4, 0, 0.2, 1) forwards; }
        @keyframes fadeInUp { from { opacity: 0; transform: translate3d(0, 20px, 0); } to { opacity: 1; transform: translate3d(0, 0, 0); } }
        .animate-fade-in-up { opacity: 0; animation: fadeInUp 0.7s cubic-bezier(0.4, 0, 0.2, 1) forwards; }
    </style>
</head>
<body class="bg-gray-50 text-gray-700 antialiased">

    <!-- Preloader -->
    <div id="preloader"><div class="spinner"></div></div>

    <!-- Header -->
    <header id="main-header" class="bg-white/80 backdrop-blur-md shadow-sm sticky top-0 z-50 transition-all duration-300">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-20">
                <a href="index.html" class="flex-shrink-0 cursor-pointer flex items-center gap-3">
                    <img class="h-16 w-auto" src="logofonafen.png" alt="Logo FONAFEN">
                    <span class="text-xl font-bold text-gray-800 hidden sm:block">FONAFEN</span>
                </a>
                <nav class="flex items-center gap-4">
                    <a href="index.html" class="text-fonafen-green hover:text-fonafen-green-dark font-bold">Accueil</a>
                    <a href="consulter.html" class="bg-gray-100 hover:bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg transition duration-300">
                        Consulter
                    </a>
                    <a href="enregistrer.html" class="bg-fonafen-green hover:bg-fonafen-green-dark text-white font-bold py-2 px-4 rounded-lg transition duration-300 transform hover:scale-105">
                        Enregistrer
                    </a>
                </nav>
            </div>
        </div>
    </header>

    <main>
        <!-- Hero Section with Slider -->
        <section id="accueil" class="min-h-[calc(100vh-80px)] flex items-center justify-center bg-cover bg-center transition-background-image duration-1000">
            <div class="text-center text-white p-8 md:p-12 rounded-xl glass-effect max-w-4xl mx-4">
                <h1 class="text-4xl md:text-6xl font-bold mb-4 leading-tight text-shadow-lg animate-fade-in-down">
                    Bienvenue sur la Plateforme d'Enregistrement
                </h1>
                <p class="text-lg md:text-xl mb-8 max-w-2xl mx-auto animate-fade-in-up" style="animation-delay: 0.2s;">
                    FONDS NATIONAL POUR LA PROMOTION DE LA FEMME ET LA PROTECTION DE L'ENFANT
                </p>
                <div class="flex flex-col sm:flex-row items-center justify-center gap-4 animate-fade-in-up" style="animation-delay: 0.4s;">
                    <a href="enregistrer.html" class="w-full sm:w-auto bg-fonafen-green hover:bg-fonafen-green-dark text-white font-bold py-3 px-8 rounded-lg text-lg transition duration-300 transform hover:scale-105 shadow-lg">
                        <i class="fas fa-file-alt mr-2"></i> Enregistrer
                    </a>
                    <a href="consulter.html" class="w-full sm:w-auto bg-white hover:bg-gray-200 text-fonafen-green font-bold py-3 px-8 rounded-lg text-lg transition duration-300 shadow-lg">
                        Consulter les fiches
                    </a>
                </div>
            </div>
        </section>

        <!-- Statistics Section -->
        <section id="statistiques" class="py-20 bg-white">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-12 reveal">
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-800">Nos statistiques en temps réel</h2>
                    <p class="mt-2 text-gray-600">Un aperçu de notre impact à travers le pays.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                    <div class="bg-gray-50 p-8 rounded-xl shadow-md reveal">
                        <i class="fas fa-child text-4xl text-fonafen-green mb-4"></i>
                        <h3 id="stats-enfants" class="text-5xl font-bold text-gray-900">0</h3>
                        <p class="text-gray-500 mt-2">Enfants Enregistrés</p>
                    </div>
                    <div class="bg-gray-50 p-8 rounded-xl shadow-md reveal" style="--delay: 0.1s;">
                        <i class="fas fa-venus-mars text-4xl text-fonafen-green mb-4"></i>
                        <h3 id="stats-garcons-filles" class="text-5xl font-bold text-gray-900">0 / 0</h3>
                        <p class="text-gray-500 mt-2">Garçons / Filles</p>
                    </div>
                    <div class="bg-gray-50 p-8 rounded-xl shadow-md reveal" style="--delay: 0.2s;">
                        <i class="fas fa-map-marker-alt text-4xl text-fonafen-green mb-4"></i>
                        <h3 id="stats-provinces" class="text-5xl font-bold text-gray-900">0</h3>
                        <p class="text-gray-500 mt-2">Provinces Couvertes</p>
                    </div>
                </div>
                 <div class="mt-12 bg-gray-50 p-8 rounded-xl shadow-md reveal">
                     <h3 class="text-2xl font-bold text-gray-800 text-center mb-6">Répartition par Province</h3>
                     <canvas id="provinceChart" height="100"></canvas>
                 </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-12">
             <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center md:text-left">
                 <div class="flex flex-col items-center md:items-start">
                    <img src="logofonafen.png" alt="Logo FONAFEN" class="h-20 w-auto mb-4 bg-white p-2 rounded-full">
                    <p class="text-gray-400">FONDS NATIONAL POUR LA PROMOTION DE LA FEMME ET LA PROTECTION DE L'ENFANT</p>
                </div>
                <div>
                    <h3 class="font-bold text-lg mb-4 flex items-center justify-center md:justify-start"><i class="fas fa-map-marked-alt mr-2"></i>Adresse</h3>
                    <p class="text-gray-400 flex items-start"><i class="fas fa-map-marker-alt mt-1 mr-3 flex-shrink-0"></i><span>Boulevard du 30 Juin n°2164, Gombe / Kinshasa, RDC</span></p>
                </div>
                <div>
                    <h3 class="font-bold text-lg mb-4 flex items-center justify-center md:justify-start"><i class="fas fa-address-book mr-2"></i>Contact & Suivez-nous</h3>
                    <p class="text-gray-400"><a href="mailto:contact@fonafen.gouv.cd" class="hover:text-white flex items-center"><i class="fas fa-envelope w-6 mr-2"></i><span>contact@fonafen.gouv.cd</span></a></p>
                    <p class="text-gray-400 mt-2"><a href="tel:+24381450510" class="hover:text-white flex items-center"><i class="fas fa-phone w-6 mr-2"></i><span>(+243) 081 450 510</span></a></p>
                    <div class="mt-4 flex justify-center md:justify-start space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white" aria-label="Facebook"><i class="fab fa-facebook-f text-2xl"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white" aria-label="Twitter"><i class="fab fa-twitter text-2xl"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white" aria-label="Instagram"><i class="fab fa-instagram text-2xl"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white" aria-label="LinkedIn"><i class="fab fa-linkedin-in text-2xl"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white" aria-label="YouTube"><i class="fab fa-youtube text-2xl"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white" aria-label="WhatsApp"><i class="fab fa-whatsapp text-2xl"></i></a>
                    </div>
                </div>
            </div>
            <div class="mt-8 border-t border-gray-700 pt-6 text-center text-gray-500 text-sm"><p>© 2025 imperium house group. Tous droits réservés.</p></div>
        </div>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const demoData = [
            { id: 1, nom: "Mbappe", postnom: "Lottin", prenom: "Kylian", photo: "https://upload.wikimedia.org/wikipedia/commons/thumb/b/b3/Kylian_Mbapp%C3%A9_in_2021.jpg/800px-Kylian_Mbapp%C3%A9_in_2021.jpg", sexe: "Masculin", date_naissance: '1998-12-20', lieu_naissance: 'Paris', nationalite: 'Française', passeport: '19AB12345', province: "Kinshasa", district: 'N/A', territoire: 'Gombe', secteur: 'N/A', avenue: 'des Ambassadeurs', maison: 'n° 12', tuteur: 'Wilfrid Mbappe', tuteur_nom: "Mbappe", tuteur_prenom: "Wilfrid", tuteur_photo: 'https://placehold.co/200x200/e2e8f0/cbd5e0?text=WM', tuteur_sexe: 'M', tuteur_lieu_naissance: 'Douala, Cameroun', tuteur_telephone: '+243 81 123 4567', tuteur_lien: 'Père', tuteur_adresse_complete: '12, Avenue des Ambassadeurs, Gombe, Kinshasa', tuteur_type_piece: "Passeport", tuteur_piece_identite: 'CE0123456789', voyage_adresse: 'Centre sportif de Madrid, Espagne', voyage_destination: 'Madrid, Espagne', voyage_motif: 'Stage de football', voyage_debut: '2025-07-01', voyage_fin: '2025-08-15', declaration_lieu: 'Kinshasa', declaration_date: '2025-06-10', fichiers: { "Pièce d'identité du tuteur": "identite_tuteur.pdf", "Acte de naissance de l'enfant": "acte_naissance.pdf" } },
            { id: 2, nom: "Tshala", postnom: "Muana", prenom: "Elisabeth", photo: "https://placehold.co/200x200/e2e8f0/cbd5e0?text=TM", sexe: "Féminin", date_naissance: '1958-05-13', lieu_naissance: 'Luluabourg', nationalite: 'Congolaise', passeport: 'PA1234567', province: "Kasaï-Oriental", district: 'N/A', territoire: 'Miabi', secteur: 'Bena-Kanyuka', avenue: 'de la Paix', maison: 'n° 10', tuteur: 'Claude Mashala', tuteur_nom: "Mashala", tuteur_prenom: "Claude", tuteur_photo: 'https://placehold.co/200x200/e2e8f0/cbd5e0?text=CM', tuteur_sexe: 'M', tuteur_lieu_naissance: 'Kinshasa', tuteur_telephone: '+243 82 234 5678', tuteur_lien: 'Manager', tuteur_adresse_complete: '10, Avenue de la Paix, Limete, Kinshasa', tuteur_type_piece: "Carte d'identité", tuteur_piece_identite: 'CE9876543210', voyage_adresse: 'Olympia, Paris, France', voyage_destination: 'Paris, France', voyage_motif: 'Concert', voyage_debut: '2025-09-01', voyage_fin: '2025-09-30', declaration_lieu: 'Kinshasa', declaration_date: '2025-08-15', fichiers: { "Contrat de spectacle": "contrat_olympia.pdf" } },
            { id: 3, nom: "Diallo", postnom: "", prenom: "Fatou", photo: "https://placehold.co/200x200/e2e8f0/cbd5e0?text=FD", sexe: "Féminin", date_naissance: '2010-05-15', lieu_naissance: 'Bukavu', nationalite: 'Congolaise', passeport: 'PC2345678', province: "Sud-Kivu", district: 'Sud-Kivu', territoire: 'Kabare', secteur: 'Kabare', avenue: "de l'Université", maison: 'n° 30', tuteur: 'Moussa Diallo', tuteur_nom: "Diallo", tuteur_prenom: "Moussa", tuteur_photo: 'https://placehold.co/200x200/e2e8f0/cbd5e0?text=MD', tuteur_sexe: 'M', tuteur_lieu_naissance: 'Dakar, Sénégal', tuteur_telephone: '+243 99 111 2233', tuteur_lien: 'Oncle', tuteur_adresse_complete: "30, Avenue de l'Université, Kabare, Sud-Kivu", tuteur_type_piece: "Carte d'électeur", tuteur_piece_identite: 'CE1122334455', voyage_adresse: 'Lycée Français, Bruxelles, Belgique', voyage_destination: 'Bruxelles, Belgique', voyage_motif: 'Etudes', voyage_debut: '2025-09-01', voyage_fin: '2026-06-30', declaration_lieu: 'Bukavu', declaration_date: '2025-08-10', fichiers: {} },
            { id: 4, nom: "Dupont", postnom: "", prenom: "Jean", photo: "https://placehold.co/200x200/e2e8f0/cbd5e0?text=JD", sexe: "Masculin", date_naissance: '2012-08-22', lieu_naissance: 'Lubumbashi', nationalite: 'Congolaise', passeport: 'PD3456789', province: "Haut-Katanga", district: 'Haut-Katanga', territoire: 'Kipushi', secteur: 'Kaponda', avenue: 'Lumumba', maison: 'n° 100', tuteur: 'Marie Dupont', tuteur_nom: "Dupont", tuteur_prenom: "Marie", tuteur_photo: 'https://placehold.co/200x200/e2e8f0/cbd5e0?text=MD', tuteur_sexe: 'F', tuteur_lieu_naissance: 'Kolwezi', tuteur_telephone: '+243 85 444 5566', tuteur_lien: 'Mère', tuteur_adresse_complete: '100, Avenue Lumumba, Kipushi, Haut-Katanga', tuteur_type_piece: "Carte d'identité", tuteur_piece_identite: 'CE5566778899', voyage_adresse: 'Disneyland Paris, France', voyage_destination: 'Paris, France', voyage_motif: 'Vacances', voyage_debut: '2025-07-15', voyage_fin: '2025-07-30', declaration_lieu: 'Lubumbashi', declaration_date: '2025-06-20', fichiers: {} },
            { id: 5, nom: "Omar", postnom: "", prenom: "Aisha", photo: "https://placehold.co/200x200/e2e8f0/cbd5e0?text=AO", sexe: "Féminin", date_naissance: '2008-02-10', lieu_naissance: 'Goma', nationalite: 'Congolaise', passeport: 'PE4567890', province: "Nord-Kivu", district: 'Nord-Kivu', territoire: 'Masisi', secteur: 'Katoyi', avenue: 'des Volcans', maison: 'n° 55', tuteur: 'Ali Omar', tuteur_nom: "Omar", tuteur_prenom: "Ali", tuteur_photo: 'https://placehold.co/200x200/e2e8f0/cbd5e0?text=AO', tuteur_sexe: 'M', tuteur_lieu_naissance: 'Goma', tuteur_telephone: '+243 97 777 8899', tuteur_lien: 'Père', tuteur_adresse_complete: '55, Avenue des Volcans, Masisi, Nord-Kivu', tuteur_type_piece: "Passeport", tuteur_piece_identite: 'CE9988776655', voyage_adresse: 'Hôpital King Faisal, Kigali, Rwanda', voyage_destination: 'Kigali, Rwanda', voyage_motif: 'Soins medicaux', voyage_debut: '2025-10-05', voyage_fin: '2025-11-05', declaration_lieu: 'Goma', declaration_date: '2025-09-15', fichiers: {} }
        ];

        let enregistrements = [];
        let provinceChartInstance = null;

        const ui = {
            preloader: document.getElementById('preloader'),
            header: document.getElementById('main-header'),
            accueil: document.getElementById('accueil'),
            statsEnfants: document.getElementById('stats-enfants'),
            statsGarconsFilles: document.getElementById('stats-garcons-filles'),
            statsProvinces: document.getElementById('stats-provinces'),
        };

        const saveToLocalStorage = () => localStorage.setItem('enregistrements_fonafen', JSON.stringify(enregistrements));
        const loadFromLocalStorage = () => {
            const data = localStorage.getItem('enregistrements_fonafen');
            if (data) {
                enregistrements = JSON.parse(data);
            } else {
                enregistrements = demoData;
                saveToLocalStorage();
            }
        };

        const updateStats = () => {
            const total = enregistrements.length;
            const garcons = enregistrements.filter(e => e.sexe === 'Masculin').length;
            const filles = total - garcons;
            const provinces = new Set(enregistrements.map(e => e.province)).size;

            ui.statsEnfants.textContent = total;
            ui.statsGarconsFilles.textContent = `${garcons} / ${filles}`;
            ui.statsProvinces.textContent = provinces;

            updateProvinceChart();
        };

        const updateProvinceChart = () => {
            const provinceCounts = enregistrements.reduce((acc, enfant) => {
                acc[enfant.province] = (acc[enfant.province] || 0) + 1;
                return acc;
            }, {});

            const sortedProvinces = Object.entries(provinceCounts).sort(([,a],[,b]) => b-a);
            const labels = sortedProvinces.map(([province]) => province);
            const data = sortedProvinces.map(([,count]) => count);

            const ctx = document.getElementById('provinceChart').getContext('2d');
            if (provinceChartInstance) {
                provinceChartInstance.destroy();
            }
            provinceChartInstance = new Chart(ctx, {
                type: 'bar',
                data: { labels, datasets: [{ label: "Nombre d'enfants", data, backgroundColor: 'rgba(0, 130, 64, 0.7)', borderColor: 'rgba(0, 130, 64, 1)', borderWidth: 1 }] },
                options: { scales: { y: { beginAtZero: true } }, responsive: true, maintainAspectRatio: true }
            });
        };

        const heroSlides = [ "https://images.unsplash.com/photo-1519642918688-7e43b19245d8?q=80&w=2070&auto=format&fit=crop", "https://images.unsplash.com/photo-1509099836639-18ba1795216d?q=80&w=1931&auto=format&fit=crop", "https://images.unsplash.com/photo-1542810614-9FCf95e9792e?q=80&w=2070&auto=format&fit=crop" ];
        let currentSlide = 0;
        function changeHeroBackground() {
            if (ui.accueil) {
                 ui.accueil.style.backgroundImage = `linear-gradient(rgba(0, 130, 64, 0.8), rgba(0, 0, 0, 0.7)), url('${heroSlides[currentSlide]}')`;
                currentSlide = (currentSlide + 1) % heroSlides.length;
            }
        }

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, { threshold: 0.1 });
        document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

        window.onscroll = () => {
            if (ui.header) {
                if (document.body.scrollTop > 50 || document.documentElement.scrollTop > 50) {
                    ui.header.classList.add('shadow-lg');
                } else {
                    ui.header.classList.remove('shadow-lg');
                }
            }
        };

        window.addEventListener('load', () => {
            ui.preloader.style.opacity = '0';
            setTimeout(() => { ui.preloader.style.display = 'none'; }, 500);
            loadFromLocalStorage();
            updateStats();
            changeHeroBackground();
            setInterval(changeHeroBackground, 5000);
        });
    });
    </script>
</body>
</html>
